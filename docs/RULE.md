# docs 目录 AI 代码生成规则

> **目录职责**: 存放API文档，记录所有接口信息
>
> **最后更新**: 2026-01-30

---

## 一、本目录的文件结构

```
docs/
├── api.md     # API接口文档
└── RULE.md   # 本规则文件
```

---

## 二、核心规则

| 规则 | 说明 |
|------|------|
| 只更新不新建 | 修改接口后更新api.md，不创建新文档文件 |
| 保持格式统一 | 按照现有格式添加新接口文档 |
| 及时更新 | 每次接口变更后必须更新文档 |

---

## 三、更新API文档的时机

以下情况必须更新api.md：

1. 新增接口
2. 修改接口参数
3. 修改响应格式
4. 删除接口
5. 修改接口路径

---

## 四、接口文档格式

### 4.1 标准接口文档模板

```markdown
### 接口名称

```
HTTP方法 /api/v1/路径
```

**路径参数:**（如有）

| 参数 | 类型 | 说明 |
|------|------|------|
| id | int | 资源ID |

**查询参数:**（如有）

| 参数 | 类型 | 必填 | 说明 |
|------|------|------|------|
| page | int | 否 | 页码 |

**请求体:**（如有）
```json
{
    "field": "value"
}
```

**响应:**
```json
{
    "code": 0,
    "message": "success",
    "data": {}
}
```
```

### 4.2 新增模块文档

在api.md中找到合适位置，添加新模块的标题和接口：

```markdown
---

## 订单模块

### 获取订单列表

```
GET /api/v1/orders
```

...
```

---

## 五、更新日志规范

每次更新api.md后，必须在文档底部的更新日志中添加记录。

### 5.1 更新日志格式

```markdown
## 更新日志

| 日期 | 版本 | 变更内容 |
|------|------|---------|
| 2026-01-30 | v1.1 | 新增商城模块接口 |
| 2026-01-01 | v1.0 | 初始版本 |
```

### 5.2 日期格式要求

- 使用 `YYYY-MM-DD` 格式（如 2026-01-30）
- 新记录添加在表格最上方
- 版本号按语义化版本递增
- **重要**: AI在更新文档时，必须使用Web搜索工具查询当前真实日期，禁止使用虚构或猜测的日期

---

## 六、禁止行为

| 禁止 | 正确做法 |
|------|----------|
| 创建新的文档文件 | 更新现有的api.md |
| 修改接口不更新文档 | 接口变更后立即更新 |
| 文档格式不统一 | 按照模板格式编写 |
